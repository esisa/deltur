<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="not-ie" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>deltur.no - API</title>
	
	<meta name="description" content="Page description">
	<meta name="author" content="Your name">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- Custom css -->
	<link href="{{ url_for('static', filename='infoside/css/style.min.css') }}" rel="stylesheet">

	<link href="{{ url_for('static', filename='infoside/css/font-awesome/font-awesome.css') }}" rel="stylesheet">
	<!--[if IE 7]>
		<link href="css/font-awesome/font-awesome-ie7.css" rel="stylesheet">
	<![endif]-->

	<!-- Load Open sans from Google Font Directory -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800' rel='stylesheet' type='text/css'>
	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->

	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script>!window.jQuery && document.write(unescape('%3Cscript src="{{ url_for('static', filename='infoside/js/jquery-1.8.3.min.js') }}"%3E%3C/script%3E'))</script>
	<script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-40003995-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

    </script>
</head>
<body>

	<!-- Header
	================================================== -->
	<header id="header">

		<!-- Navigation
		================================================== -->
		<div class="navbar">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="/">
						<img src="{{ url_for('static', filename='img/map_logo.png') }}" height="40" width="40" style="margin-top: -5px; margin-right: 5px;"><b>deltur</b>.no
					</a>
					
					<div class="nav-collapse">
						<ul class="nav">
							<li><a href="/">Tilbake til deltur.no</a></li>
							<li><a href="/info">Info</a></li>
                            <li><a href="/info/features">Mer</a></li>
							<li><a href="/info/priser">Priser</a></li>
							<li><a href="/info/eksempler">Eksempler</a></li>
							<li class="active"><a href="/info/api">API</a></li>
							<li><a href="/info/faq">FAQ</a></li>
							<li><a href="/info/kontakt">Kontakt</a></li>
						</ul>
						
						
					</div><!--/.nav-collapse -->
				</div><!-- end .container -->
			</div><!-- end .navbar-inner -->
		</div><!-- end .navbar -->
		
		

	<!-- Content
	================================================== -->
	<div id="content" class="container">
</div>

	<!--iframe width="100%" height="420" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://deltur.no/6+7+8/embed"></iframe-->

	<div class="container hero-unit" style="padding-top: 100px; margin-bottom: 200px;">
		<div class="row">
			          
        <!--h2 style="margin-left: 100px" class="form-signin-heading">Last opp fil</h2-->
        <h1 style="text-align: center;font-size:4em;" class="form-signin-heading">deltur.no</h1>
        <div style="text-align: center; font-size:20px;">Del din tur med deltur.no API!</div>
        <hr>
        <p id="text">
           Hvis du vil dele turer fra deltur.no på andre tjenester så kan du bruke deltur.no API. For å bruke API'et kreves det at du <a href="{{ url_for('infopriser') }}">registrerer deg</a> og bruker token for å lage turer. 
        </p>
        
        <p id="text">
        deltur.no API har samme <a href="{{ url_for('terms') }}">betingelser</a> som for deltur.no. Du kan også oppgradere til <a href="{{ url_for('infopriser') }}">deltur.no Pro</a>.      
        </p>
        
        
        <p id="text">
           Deltur.no har et enkelt API med følgende endepunkter:      
        </p>
        
        <h2>Lag et sted:</h2>
        <dl>
          <dt>deltur.no/del/sted/[lat]/[long] </dt>
          <dd>Del et sted med lat og long i URL'en. Returnerer et JSON dokument med id til tur. </dd>
        </dl>
        
        <dl>
          <dd>Du kan også legge til en beskrivelse og et bilde ved å bruke HTTP POST(istedenfor GET) og legge til et JSON dokument med verdiene "description" og "url". <pre>
{
  "description":"Beskrivelse av stedet.",
  "url": "http://eksempel.com/bildeurl.jpg"
}
          </pre>  </dd>
        </dl>
        
        <h2>Lag en tur:</h2>
        <dl>
          <dt>deltur.no/del/[format] </dt>
          <dd>Del en tur med med HTTP POST. Du kan velge mellom GPX eller GeoJSON. Returnerer et JSON dokument med id til turen.  </dd>
        </dl>
        
        <dl>
          <dd>Eksempel på GeoJSON kan være slik: <pre>
{
  "type": "LineString",
  "coordinates": [
          [10.551269375141, 59.796755011192],
          [10.386474453266, 59.785768683067],
          [10.348022304829, 59.719850714317],
          [10.260131679829, 59.648439581505]
          ]
}

          </pre>  </dd>
        </dl>


        <h2>Endre på en tur:</h2>
        <dl>
          <dt>deltur.no/setStyle </dt>
          <dd>Du kan endre hvordan et punkt eller en linje rendres i kartet ved å sende inn et nytt styledokument. Nedenfor ser du hvordan dette dokumentet skal være når det sendes inn.   </dd>
        </dl>
        
        <dl>
          <dd>Eksempel på styledokument for et punkt: <pre>
{
    "popup": {
        "show": true,
        "image": {
            "url": "",
            "width": -1
        },
        "description": "",
        "title": ""
    },
    "label": {
        "text": "",
        "static": false
    },
    "markersymbol": "map-marker",
    "markerType": "fa",
    "markercolor": "blue"
}
          </pre>  </dd>

          <br>
          <div id="punkt_param">  
          <dd>Du ulike parameterene for et punkt:</dd>
          <table class="table table-bordered">
  			<tr><th>Parameter</th><th>Gyldige verdier</th></tr>
  			<tr><td>popup.show</td><td>true|false - Vise popup eller ikke i kartet</td></tr>
  			<tr><td>popup.image.url</td><td>String - URL til bilde som skal vises i popup</td></tr>
  			<tr><td>popup.image.width</td><td>Integer - Bredde på bilde. Default verdi er -1 som betyr at deltur.no bestemmer bredde automatisk. </td></tr>
  			<tr><td>popup.title</td><td>String - Tittel i popup</td></tr>
  			<tr><td>popup.description</td><td>String - Beskrivelse i popup</td></tr>
  			<tr><td>label.text</td><td>String - Label på punkt vises ikke som standard. Hvis dette feltet er noe annet enn tomt så vises det en label med denne teksten. </td></tr>
  			<tr><td>label.static</td><td>true|false - Hvis true så vises label alltid, hvis false vises label når musepekeren er over punktet. </td></tr>
  			<tr><td>markersymbol</td><td>String - Tall eller ikon som du vil vise. </td></tr>
  			<tr><td>markerType</td><td>fa|number - Velg hva slags type ikon som skal vises. Ved "number" så legger du inn et tall i markersymbol. Ved "fa" kan du bruke alle koder som er godkjente <a href="http://fontawesome.io/icons/" target="_new">Font Awesome ikoner</a>. Ikke legg til fa- i ikonnavnet. </td></tr>
  			<tr><td>markercolor</td><td>String - Fargen på ikonet som vises. Kan være en hex-farge eller en <a target="_new" href="http://www.w3schools.com/html/html_colornames.asp">godkjent tekst</a> som beskriver fargen. </td></tr>
			</table>
		</div>
			<br>

          <dd>Eksempel på styledokument for en linje: <pre>
{
    "popup": {
        "title": "",
        "description": "",
        "show": false
    },
    "label": {
        "text": ""
    },
    "opacity": 0.65,
    "start_icon": false,
    "end_icon": false,
    "color": "#ff7800",
    "width": 5.0
}
          </pre>  </dd>

          <br>
          <div id="linje_param">  
          <dd>Du ulike parameterene for et linje:</dd>
          <table class="table table-bordered">
  			<tr><th>Parameter</th><th>Gyldige verdier</th></tr>
  			<tr><td>popup.show</td><td>true|false - Vise popup eller ikke i kartet</td></tr>
  			<tr><td>popup.title</td><td>String - Tittel i popup</td></tr>
  			<tr><td>popup.description</td><td>String - Beskrivelse i popup</td></tr>
  			<tr><td>label.text</td><td>String - Label på punkt vises ikke som standard. Hvis dette feltet er noe annet enn tomt så vises det en label med denne teksten. </td></tr>
  			<tr><td>start_icon</td><td>true|false - Vise ikon ved turen start eller ikke.  </td></tr>
  			<tr><td>end_icon</td><td>true|false - Vise ikon ved turen slutt eller ikke.  </td></tr>
  			<tr><td>opacity</td><td>0 til 1 - Gjennomsiktighet på linje. 0 er helt gjennomsiktig, 1 er ingen gjennomsiktighet. </td></tr>
  			<tr><td>color</td><td>String - Fargen på linjen som vises. Kan være en hex-farge eller en <a target="_new" href="http://www.w3schools.com/html/html_colornames.asp">godkjent tekst</a> som beskriver fargen.  </td></tr>
  			<tr><td>width</td><td>Integer - Bredde på linjen </td></tr>
  			
			</table>
			<br>
		</div>
        </dl>
    
        
        
        
        <h2>Vis en tur:</h2>
        <dl>
          <dt>deltur.no/[id]/[kartype] </dt>
          <dd>Vis denne turen som en HTML-side.</dd>
        </dl>
        
        <dl>
          <dt>deltur.no/[id]+[id]+[id]/[kartype] </dt>
          <dd>Kombiner ulike turer i en HTML-visning.</dd>
        </dl>
        
        <dl>
          <dt>deltur.no/[id]/embed/[kartype] </dt>
          <dd>Vis denne turen i en iFrame.</dd>
        </dl>
        
        <dl>
          <dt>deltur.no/[id]+[id]+[id]/embed/[kartype]</dt>
          <dd>Kombiner ulike turer i en iFrame.</dd>
        </dl>
        
        <dl>
           <dd>Karttype er frivillig og standard er "topokart". Du kan også velge mellom "turkart", "skikart", "veikart", "kartverket" og "satellitt". Merk at "kartverket" leveres av Kartverket og har <a target="_new" href="http://kartverket.no/Kart/Gratis-kartdata/Visningstjenester/Cache-tjenester/">begrensninger i bruk</a> per IP-adresse! </dd>
        </dl>
        
        
        
        <h2>Last ned en tur:</h2>
        <dl>
          <dt>deltur.no/[id]/[format] </dt>
          <dd>Last ned denne turen i ulike formater. Du kan velge mellom GPX, GeoJSON, KML, CSV eller OSM.</dd>
        </dl>
        
        <dl>
          <dt>deltur.no/[id]/metadata </dt>
          <dd>Last ned metadata for denne turen. Returnerer et JSON-dokument med ulike attributter for punkt og linje. </dd>
        </dl>
        
        <h3>Konverter id:</h3>
        <dl>
          <dt><del>deltur.no/hash/[id]+[id]+[id]</del> </dt>
          <dd><del>Returnerer en hash du kan bruke som id istedenfor for å legge sammen id'ene. Du får da en enklere id å forholde deg til.</del> </dd>
        </dl>
        
       
        
        

		</div>
	</div>	</div>

	<footer>
		<div class="container">
			<div class="row">
				<div class="span4">
					<br><br><br><br><br><br><br><br><br>
				</div>
				
				<div class="span4 social-networks">
					<h3>Oppdatert informasjon</h3>
					<p>Følg deltur.no på sosiale nettverk</p>
					<a href="https://www.facebook.com/delturno" title="Follow us on Facebook" class="icon-facebook"></a>
					<a href="https://twitter.com/delturno" title="Follow us on Twitter" class="icon-twitter"></a>
					<a href="#" title="Follow us on Google Plus" class="icon-google-plus"></a>
				</div>
				<div class="span4">
                    <br><br><br><br><br><br><br><br><br>
				</div>
				
			</div> <!-- end .row -->
		</div> <!-- end .container -->

		<div id="footer-extra">
			<div class="container">
				<div class="row">
					<div class="span4">
						&copy; 2014 Kresendo
					</div>
					<div class="span4">
						
					</div>
					<div class="span4">
						<i class="icon-envelope"></i> &nbsp; 
						<a href="mailto:espen@kresendo.no">espen@kresendo.no</a>
					</div>
				</div> <!-- end .row -->		
			</div> <!-- end .container -->		
		</div>

	</footer>
	
	

	<!-- Javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script type="text/javascript" src="{{ url_for('static', filename='infoside/js/bootstrap.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='infoside/js/jquery.isotope.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='infoside/js/jquery.touchSwipe.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='infoside/js/jquery.hotkeys.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='infoside/js/functions.min.js') }}"></script>

</body>
</html>